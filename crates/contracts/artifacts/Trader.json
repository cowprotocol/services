{"abi":[{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract INativeERC20","name":"native","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amountToken","type":"uint256"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"native2token","type":"tuple[][3]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"token2native","type":"tuple[][3]"}],"name":"roundtrip","outputs":[{"internalType":"uint256","name":"nativeSellAmount","type":"uint256"},{"internalType":"uint256","name":"nativeBuyAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"clearingPrices","type":"uint256[]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"interactions","type":"tuple[][3]"},{"internalType":"uint256","name":"mint","type":"uint256"}],"name":"settle","outputs":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"int256[]","name":"traderBalances","type":"int256[]"},{"internalType":"int256[]","name":"settlementBalances","type":"int256[]"}],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405234801561001057600080fd5b506113e5806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610b29565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610be1565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610cc0565b610168565b6040516100a993929190610d97565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610dcc565b905060200201602081019061019b9190610dfb565b6040517f8d872c0c0000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff9190911690638d872c0c906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610e18565b505b610322739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610e3a565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102f0576102f0610dcc565b90506020020160208101906103059190610dfb565b73ffffffffffffffffffffffffffffffffffffffff169190610887565b8767ffffffffffffffff81111561033b5761033b610e57565b604051908082528060200260200182016040528015610364578160200160208202803683370190505b5091508767ffffffffffffffff81111561038057610380610e57565b6040519080825280602002602001820160405280156103a9578160200160208202803683370190505b50905060005b88811015610566576104778a8a838181106103cc576103cc610dcc565b90506020020160208101906103e19190610dfb565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024015b602060405180830381865afa15801561044e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104729190610e86565b610962565b61048090610ece565b83828151811061049257610492610dcc565b6020026020010181815250506105308a8a838181106104b3576104b3610dcc565b90506020020160208101906104c89190610dfb565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401610431565b61053990610ece565b82828151811061054b5761054b610dcc565b602090810291909101015261055f81610f06565b90506103af565b50604080516001808252818301909252600091816020015b6105fa6040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b81526020019060019003908161057e575050604080516101608101909152600081529091506020810161062e60018c610f3e565b815260006020820152604001898961064760018e610f3e565b81811061065657610656610dcc565b9050602002013581526020018989600081811061067557610675610dcc565b90506020020135815260200163ffffffff801681526020016000801b8152602001600081526020016040815260200160008152602001306040516020016106e7919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040528152508160008151811061070c5761070c610dcc565b60200260200101819052506107e0739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d604051602401610765969594939291906112b0565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab4191506109f2565b935060005b89811015610879576108028b8b838181106103cc576103cc610dcc565b84828151811061081457610814610dcc565b602002602001018181516108289190611381565b9052506108408b8b838181106104b3576104b3610dcc565b83828151811061085257610852610dcc565b602002602001018181516108669190611381565b90525061087281610f06565b90506107e5565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b3000000000000000000000000000000000000000000000000000000001790529060009061091a90861683610a07565b905061095b816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610a15565b5050505050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8211156109ee576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f4d6174683a20696e74323536206f766572666c6f770000000000000000000000604482015260640161015f565b5090565b6000610a0083600084610a70565b9392505050565b6060610a0083600084610aa3565b81511580610a32575081806020019051810190610a329190610e18565b8190610a6b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f91906113a9565b505050565b60005a905060008083516020850186885af1610a90573d6000803e3d6000fd5b5a610a9b9082610f3e565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610acd91906113bc565b60006040518083038185875af1925050503d8060008114610b0a576040519150601f19603f3d011682016040523d82523d6000602084013e610b0f565b606091505b509250905080610b2157815160208301fd5b509392505050565b600080600060408486031215610b3e57600080fd5b83359250602084013567ffffffffffffffff80821115610b5d57600080fd5b818601915086601f830112610b7157600080fd5b813581811115610b8057600080fd5b876020828501011115610b9257600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610bc757600080fd5b50565b8060608101831015610bdb57600080fd5b92915050565b600080600080600060a08688031215610bf957600080fd5b8535610c0481610ba5565b94506020860135610c1481610ba5565b935060408601359250606086013567ffffffffffffffff80821115610c3857600080fd5b610c4489838a01610bca565b93506080880135915080821115610c5a57600080fd5b50610c6788828901610bca565b9150509295509295909350565b60008083601f840112610c8657600080fd5b50813567ffffffffffffffff811115610c9e57600080fd5b6020830191508360208260051b8501011115610cb957600080fd5b9250929050565b60008060008060008060808789031215610cd957600080fd5b863567ffffffffffffffff80821115610cf157600080fd5b610cfd8a838b01610c74565b90985096506020890135915080821115610d1657600080fd5b610d228a838b01610c74565b90965094506040890135915080821115610d3b57600080fd5b50610d4889828a01610bca565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610d8c57815187529582019590820190600101610d70565b509495945050505050565b838152606060208201526000610db06060830185610d5c565b8281036040840152610dc28185610d5c565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610e0d57600080fd5b8135610a0081610ba5565b600060208284031215610e2a57600080fd5b81518015158114610a0057600080fd5b600060208284031215610e4c57600080fd5b8151610a0081610ba5565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610e9857600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610eff57610eff610e9f565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610f3757610f37610e9f565b5060010190565b81810381811115610bdb57610bdb610e9f565b60005b83811015610f6c578181015183820152602001610f54565b50506000910152565b60008151808452610f8d816020860160208601610f51565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b8581101561109f57828403895281516101608151865286820151878701526040808301516110228289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e08083015190870152610100808301519087015261012080830151908701526101409182015191860181905261108b81870183610f75565b9a87019a9550505090840190600101610fdd565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561109f57828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261114e57600080fd5b87016060813561115d81610ba5565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe10181126111b457600080fd5b90920187810192903567ffffffffffffffff8111156111d257600080fd5b8036038413156111e157600080fd5b82828901526111f383890182866110ac565b9c89019c9750505092860192505060010161110f565b600082606081018360005b60038110156112a557838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe187360301811261125457600080fd5b8601602081810191359067ffffffffffffffff82111561127357600080fd5b8160051b360383131561128557600080fd5b6112908683856110f5565b99810199955093909301925050600101611214565b509095945050505050565b6080808252810186905260008760a08301825b898110156113005782356112d681610ba5565b73ffffffffffffffffffffffffffffffffffffffff168252602092830192909101906001016112c3565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87111561133957600080fd5b8660051b915081886020830137018281036020908101604085015261136090820186610fbf565b905082810360608401526113748185611209565b9998505050505050505050565b80820182811260008312801582168215821617156113a1576113a1610e9f565b505092915050565b602081526000610a006020830184610f75565b600082516113ce818460208701610f51565b919091019291505056fea164736f6c6343000811000a","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610b29565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610be1565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610cc0565b610168565b6040516100a993929190610d97565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610dcc565b905060200201602081019061019b9190610dfb565b6040517f8d872c0c0000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff9190911690638d872c0c906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610e18565b505b610322739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610e3a565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102f0576102f0610dcc565b90506020020160208101906103059190610dfb565b73ffffffffffffffffffffffffffffffffffffffff169190610887565b8767ffffffffffffffff81111561033b5761033b610e57565b604051908082528060200260200182016040528015610364578160200160208202803683370190505b5091508767ffffffffffffffff81111561038057610380610e57565b6040519080825280602002602001820160405280156103a9578160200160208202803683370190505b50905060005b88811015610566576104778a8a838181106103cc576103cc610dcc565b90506020020160208101906103e19190610dfb565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024015b602060405180830381865afa15801561044e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104729190610e86565b610962565b61048090610ece565b83828151811061049257610492610dcc565b6020026020010181815250506105308a8a838181106104b3576104b3610dcc565b90506020020160208101906104c89190610dfb565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401610431565b61053990610ece565b82828151811061054b5761054b610dcc565b602090810291909101015261055f81610f06565b90506103af565b50604080516001808252818301909252600091816020015b6105fa6040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b81526020019060019003908161057e575050604080516101608101909152600081529091506020810161062e60018c610f3e565b815260006020820152604001898961064760018e610f3e565b81811061065657610656610dcc565b9050602002013581526020018989600081811061067557610675610dcc565b90506020020135815260200163ffffffff801681526020016000801b8152602001600081526020016040815260200160008152602001306040516020016106e7919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040528152508160008151811061070c5761070c610dcc565b60200260200101819052506107e0739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d604051602401610765969594939291906112b0565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab4191506109f2565b935060005b89811015610879576108028b8b838181106103cc576103cc610dcc565b84828151811061081457610814610dcc565b602002602001018181516108289190611381565b9052506108408b8b838181106104b3576104b3610dcc565b83828151811061085257610852610dcc565b602002602001018181516108669190611381565b90525061087281610f06565b90506107e5565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b3000000000000000000000000000000000000000000000000000000001790529060009061091a90861683610a07565b905061095b816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610a15565b5050505050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8211156109ee576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f4d6174683a20696e74323536206f766572666c6f770000000000000000000000604482015260640161015f565b5090565b6000610a0083600084610a70565b9392505050565b6060610a0083600084610aa3565b81511580610a32575081806020019051810190610a329190610e18565b8190610a6b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f91906113a9565b505050565b60005a905060008083516020850186885af1610a90573d6000803e3d6000fd5b5a610a9b9082610f3e565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610acd91906113bc565b60006040518083038185875af1925050503d8060008114610b0a576040519150601f19603f3d011682016040523d82523d6000602084013e610b0f565b606091505b509250905080610b2157815160208301fd5b509392505050565b600080600060408486031215610b3e57600080fd5b83359250602084013567ffffffffffffffff80821115610b5d57600080fd5b818601915086601f830112610b7157600080fd5b813581811115610b8057600080fd5b876020828501011115610b9257600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610bc757600080fd5b50565b8060608101831015610bdb57600080fd5b92915050565b600080600080600060a08688031215610bf957600080fd5b8535610c0481610ba5565b94506020860135610c1481610ba5565b935060408601359250606086013567ffffffffffffffff80821115610c3857600080fd5b610c4489838a01610bca565b93506080880135915080821115610c5a57600080fd5b50610c6788828901610bca565b9150509295509295909350565b60008083601f840112610c8657600080fd5b50813567ffffffffffffffff811115610c9e57600080fd5b6020830191508360208260051b8501011115610cb957600080fd5b9250929050565b60008060008060008060808789031215610cd957600080fd5b863567ffffffffffffffff80821115610cf157600080fd5b610cfd8a838b01610c74565b90985096506020890135915080821115610d1657600080fd5b610d228a838b01610c74565b90965094506040890135915080821115610d3b57600080fd5b50610d4889828a01610bca565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610d8c57815187529582019590820190600101610d70565b509495945050505050565b838152606060208201526000610db06060830185610d5c565b8281036040840152610dc28185610d5c565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610e0d57600080fd5b8135610a0081610ba5565b600060208284031215610e2a57600080fd5b81518015158114610a0057600080fd5b600060208284031215610e4c57600080fd5b8151610a0081610ba5565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610e9857600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610eff57610eff610e9f565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610f3757610f37610e9f565b5060010190565b81810381811115610bdb57610bdb610e9f565b60005b83811015610f6c578181015183820152602001610f54565b50506000910152565b60008151808452610f8d816020860160208601610f51565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b8581101561109f57828403895281516101608151865286820151878701526040808301516110228289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e08083015190870152610100808301519087015261012080830151908701526101409182015191860181905261108b81870183610f75565b9a87019a9550505090840190600101610fdd565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561109f57828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261114e57600080fd5b87016060813561115d81610ba5565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe10181126111b457600080fd5b90920187810192903567ffffffffffffffff8111156111d257600080fd5b8036038413156111e157600080fd5b82828901526111f383890182866110ac565b9c89019c9750505092860192505060010161110f565b600082606081018360005b60038110156112a557838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe187360301811261125457600080fd5b8601602081810191359067ffffffffffffffff82111561127357600080fd5b8160051b360383131561128557600080fd5b6112908683856110f5565b99810199955093909301925050600101611214565b509095945050505050565b6080808252810186905260008760a08301825b898110156113005782356112d681610ba5565b73ffffffffffffffffffffffffffffffffffffffff168252602092830192909101906001016112c3565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87111561133957600080fd5b8660051b915081886020830137018281036020908101604085015261136090820186610fbf565b905082810360608401526113748185611209565b9998505050505050505050565b80820182811260008312801582168215821617156113a1576113a1610e9f565b505092915050565b602081526000610a006020830184610f75565b600082516113ce818460208701610f51565b919091019291505056fea164736f6c6343000811000a","devdoc":{"methods":{}},"userdoc":{"methods":{}}}

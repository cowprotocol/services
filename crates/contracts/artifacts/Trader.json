{"abi":[{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract INativeERC20","name":"native","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amountToken","type":"uint256"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"native2token","type":"tuple[][3]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"token2native","type":"tuple[][3]"}],"name":"roundtrip","outputs":[{"internalType":"uint256","name":"nativeSellAmount","type":"uint256"},{"internalType":"uint256","name":"nativeBuyAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"clearingPrices","type":"uint256[]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"interactions","type":"tuple[][3]"},{"internalType":"uint256","name":"mint","type":"uint256"}],"name":"settle","outputs":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"int256[]","name":"traderBalances","type":"int256[]"},{"internalType":"int256[]","name":"settlementBalances","type":"int256[]"}],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405234801561001057600080fd5b506114dd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610c21565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610cd9565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610db8565b610168565b6040516100a993929190610e8f565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610ec4565b905060200201602081019061019b9190610ef3565b6040517f40c10f190000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff91909116906340c10f19906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610f10565b505b610322739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610f32565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102f0576102f0610ec4565b90506020020160208101906103059190610ef3565b73ffffffffffffffffffffffffffffffffffffffff169190610a0f565b8767ffffffffffffffff81111561033b5761033b610f4f565b604051908082528060200260200182016040528015610364578160200160208202803683370190505b5091508767ffffffffffffffff81111561038057610380610f4f565b6040519080825280602002602001820160405280156103a9578160200160208202803683370190505b50905060005b88811015610596578989828181106103c9576103c9610ec4565b90506020020160208101906103de9190610ef3565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa15801561044a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046e9190610f7e565b61047790610fc6565b83828151811061048957610489610ec4565b6020026020010181815250508989828181106104a7576104a7610ec4565b90506020020160208101906104bc9190610ef3565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa15801561053c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105609190610f7e565b61056990610fc6565b82828151811061057b5761057b610ec4565b602090810291909101015261058f81610ffe565b90506103af565b50604080516001808252818301909252600091816020015b61062a6040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b8152602001906001900390816105ae575050604080516101608101909152600081529091506020810161065e60018c611036565b815260006020820152604001898961067760018e611036565b81811061068657610686610ec4565b905060200201358152602001898960008181106106a5576106a5610ec4565b90506020020135815260200163ffffffff801681526020016000801b815260200160008152602001604081526020016000815260200130604051602001610717919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040528152508160008151811061073c5761073c610ec4565b6020026020010181905250610810739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d604051602401610795969594939291906113a8565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab419150610aea565b935060005b89811015610a01578a8a8281811061082f5761082f610ec4565b90506020020160208101906108449190610ef3565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa1580156108b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d49190610f7e565b8482815181106108e6576108e6610ec4565b602002602001018181516108fa9190611479565b9052508a8a8281811061090f5761090f610ec4565b90506020020160208101906109249190610ef3565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa1580156109a4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109c89190610f7e565b8382815181106109da576109da610ec4565b602002602001018181516109ee9190611479565b9052506109fa81610ffe565b9050610815565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b30000000000000000000000000000000000000000000000000000000017905290600090610aa290861683610aff565b9050610ae3816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610b0d565b5050505050565b6000610af883600084610b68565b9392505050565b6060610af883600084610b9b565b81511580610b2a575081806020019051810190610b2a9190610f10565b8190610b63576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f91906114a1565b505050565b60005a905060008083516020850186885af1610b88573d6000803e3d6000fd5b5a610b939082611036565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610bc591906114b4565b60006040518083038185875af1925050503d8060008114610c02576040519150601f19603f3d011682016040523d82523d6000602084013e610c07565b606091505b509250905080610c1957815160208301fd5b509392505050565b600080600060408486031215610c3657600080fd5b83359250602084013567ffffffffffffffff80821115610c5557600080fd5b818601915086601f830112610c6957600080fd5b813581811115610c7857600080fd5b876020828501011115610c8a57600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610cbf57600080fd5b50565b8060608101831015610cd357600080fd5b92915050565b600080600080600060a08688031215610cf157600080fd5b8535610cfc81610c9d565b94506020860135610d0c81610c9d565b935060408601359250606086013567ffffffffffffffff80821115610d3057600080fd5b610d3c89838a01610cc2565b93506080880135915080821115610d5257600080fd5b50610d5f88828901610cc2565b9150509295509295909350565b60008083601f840112610d7e57600080fd5b50813567ffffffffffffffff811115610d9657600080fd5b6020830191508360208260051b8501011115610db157600080fd5b9250929050565b60008060008060008060808789031215610dd157600080fd5b863567ffffffffffffffff80821115610de957600080fd5b610df58a838b01610d6c565b90985096506020890135915080821115610e0e57600080fd5b610e1a8a838b01610d6c565b90965094506040890135915080821115610e3357600080fd5b50610e4089828a01610cc2565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610e8457815187529582019590820190600101610e68565b509495945050505050565b838152606060208201526000610ea86060830185610e54565b8281036040840152610eba8185610e54565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610f0557600080fd5b8135610af881610c9d565b600060208284031215610f2257600080fd5b81518015158114610af857600080fd5b600060208284031215610f4457600080fd5b8151610af881610c9d565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610f9057600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610ff757610ff7610f97565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361102f5761102f610f97565b5060010190565b81810381811115610cd357610cd3610f97565b60005b8381101561106457818101518382015260200161104c565b50506000910152565b60008151808452611085816020860160208601611049565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b85811015611197578284038952815161016081518652868201518787015260408083015161111a8289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e0808301519087015261010080830151908701526101208083015190870152610140918201519186018190526111838187018361106d565b9a87019a95505050908401906001016110d5565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561119757828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261124657600080fd5b87016060813561125581610c9d565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe10181126112ac57600080fd5b90920187810192903567ffffffffffffffff8111156112ca57600080fd5b8036038413156112d957600080fd5b82828901526112eb83890182866111a4565b9c89019c97505050928601925050600101611207565b600082606081018360005b600381101561139d57838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe187360301811261134c57600080fd5b8601602081810191359067ffffffffffffffff82111561136b57600080fd5b8160051b360383131561137d57600080fd5b6113888683856111ed565b9981019995509390930192505060010161130c565b509095945050505050565b6080808252810186905260008760a08301825b898110156113f85782356113ce81610c9d565b73ffffffffffffffffffffffffffffffffffffffff168252602092830192909101906001016113bb565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87111561143157600080fd5b8660051b9150818860208301370182810360209081016040850152611458908201866110b7565b9050828103606084015261146c8185611301565b9998505050505050505050565b808201828112600083128015821682158216171561149957611499610f97565b505092915050565b602081526000610af8602083018461106d565b600082516114c6818460208701611049565b919091019291505056fea164736f6c6343000810000a","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610c21565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610cd9565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610db8565b610168565b6040516100a993929190610e8f565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610ec4565b905060200201602081019061019b9190610ef3565b6040517f40c10f190000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff91909116906340c10f19906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610f10565b505b610322739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610f32565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102f0576102f0610ec4565b90506020020160208101906103059190610ef3565b73ffffffffffffffffffffffffffffffffffffffff169190610a0f565b8767ffffffffffffffff81111561033b5761033b610f4f565b604051908082528060200260200182016040528015610364578160200160208202803683370190505b5091508767ffffffffffffffff81111561038057610380610f4f565b6040519080825280602002602001820160405280156103a9578160200160208202803683370190505b50905060005b88811015610596578989828181106103c9576103c9610ec4565b90506020020160208101906103de9190610ef3565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa15801561044a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046e9190610f7e565b61047790610fc6565b83828151811061048957610489610ec4565b6020026020010181815250508989828181106104a7576104a7610ec4565b90506020020160208101906104bc9190610ef3565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa15801561053c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105609190610f7e565b61056990610fc6565b82828151811061057b5761057b610ec4565b602090810291909101015261058f81610ffe565b90506103af565b50604080516001808252818301909252600091816020015b61062a6040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b8152602001906001900390816105ae575050604080516101608101909152600081529091506020810161065e60018c611036565b815260006020820152604001898961067760018e611036565b81811061068657610686610ec4565b905060200201358152602001898960008181106106a5576106a5610ec4565b90506020020135815260200163ffffffff801681526020016000801b815260200160008152602001604081526020016000815260200130604051602001610717919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040528152508160008151811061073c5761073c610ec4565b6020026020010181905250610810739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d604051602401610795969594939291906113a8565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab419150610aea565b935060005b89811015610a01578a8a8281811061082f5761082f610ec4565b90506020020160208101906108449190610ef3565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa1580156108b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d49190610f7e565b8482815181106108e6576108e6610ec4565b602002602001018181516108fa9190611479565b9052508a8a8281811061090f5761090f610ec4565b90506020020160208101906109249190610ef3565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a0823190602401602060405180830381865afa1580156109a4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109c89190610f7e565b8382815181106109da576109da610ec4565b602002602001018181516109ee9190611479565b9052506109fa81610ffe565b9050610815565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b30000000000000000000000000000000000000000000000000000000017905290600090610aa290861683610aff565b9050610ae3816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610b0d565b5050505050565b6000610af883600084610b68565b9392505050565b6060610af883600084610b9b565b81511580610b2a575081806020019051810190610b2a9190610f10565b8190610b63576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f91906114a1565b505050565b60005a905060008083516020850186885af1610b88573d6000803e3d6000fd5b5a610b939082611036565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610bc591906114b4565b60006040518083038185875af1925050503d8060008114610c02576040519150601f19603f3d011682016040523d82523d6000602084013e610c07565b606091505b509250905080610c1957815160208301fd5b509392505050565b600080600060408486031215610c3657600080fd5b83359250602084013567ffffffffffffffff80821115610c5557600080fd5b818601915086601f830112610c6957600080fd5b813581811115610c7857600080fd5b876020828501011115610c8a57600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610cbf57600080fd5b50565b8060608101831015610cd357600080fd5b92915050565b600080600080600060a08688031215610cf157600080fd5b8535610cfc81610c9d565b94506020860135610d0c81610c9d565b935060408601359250606086013567ffffffffffffffff80821115610d3057600080fd5b610d3c89838a01610cc2565b93506080880135915080821115610d5257600080fd5b50610d5f88828901610cc2565b9150509295509295909350565b60008083601f840112610d7e57600080fd5b50813567ffffffffffffffff811115610d9657600080fd5b6020830191508360208260051b8501011115610db157600080fd5b9250929050565b60008060008060008060808789031215610dd157600080fd5b863567ffffffffffffffff80821115610de957600080fd5b610df58a838b01610d6c565b90985096506020890135915080821115610e0e57600080fd5b610e1a8a838b01610d6c565b90965094506040890135915080821115610e3357600080fd5b50610e4089828a01610cc2565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610e8457815187529582019590820190600101610e68565b509495945050505050565b838152606060208201526000610ea86060830185610e54565b8281036040840152610eba8185610e54565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610f0557600080fd5b8135610af881610c9d565b600060208284031215610f2257600080fd5b81518015158114610af857600080fd5b600060208284031215610f4457600080fd5b8151610af881610c9d565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610f9057600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610ff757610ff7610f97565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361102f5761102f610f97565b5060010190565b81810381811115610cd357610cd3610f97565b60005b8381101561106457818101518382015260200161104c565b50506000910152565b60008151808452611085816020860160208601611049565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b85811015611197578284038952815161016081518652868201518787015260408083015161111a8289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e0808301519087015261010080830151908701526101208083015190870152610140918201519186018190526111838187018361106d565b9a87019a95505050908401906001016110d5565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561119757828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa188360301811261124657600080fd5b87016060813561125581610c9d565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe10181126112ac57600080fd5b90920187810192903567ffffffffffffffff8111156112ca57600080fd5b8036038413156112d957600080fd5b82828901526112eb83890182866111a4565b9c89019c97505050928601925050600101611207565b600082606081018360005b600381101561139d57838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe187360301811261134c57600080fd5b8601602081810191359067ffffffffffffffff82111561136b57600080fd5b8160051b360383131561137d57600080fd5b6113888683856111ed565b9981019995509390930192505060010161130c565b509095945050505050565b6080808252810186905260008760a08301825b898110156113f85782356113ce81610c9d565b73ffffffffffffffffffffffffffffffffffffffff168252602092830192909101906001016113bb565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff87111561143157600080fd5b8660051b9150818860208301370182810360209081016040850152611458908201866110b7565b9050828103606084015261146c8185611301565b9998505050505050505050565b808201828112600083128015821682158216171561149957611499610f97565b505092915050565b602081526000610af8602083018461106d565b600082516114c6818460208701611049565b919091019291505056fea164736f6c6343000810000a","devdoc":{"methods":{}},"userdoc":{"methods":{}}}

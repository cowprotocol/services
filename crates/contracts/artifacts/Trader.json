{"abi":[{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract INativeERC20","name":"native","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"uint256","name":"amountToken","type":"uint256"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"native2token","type":"tuple[][3]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"token2native","type":"tuple[][3]"}],"name":"roundtrip","outputs":[{"internalType":"uint256","name":"nativeSellAmount","type":"uint256"},{"internalType":"uint256","name":"nativeBuyAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"clearingPrices","type":"uint256[]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Interaction[][3]","name":"interactions","type":"tuple[][3]"},{"internalType":"uint256","name":"mint","type":"uint256"}],"name":"settle","outputs":[{"internalType":"uint256","name":"gasUsed","type":"uint256"},{"internalType":"int256[]","name":"traderBalances","type":"int256[]"},{"internalType":"int256[]","name":"settlementBalances","type":"int256[]"}],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405234801561001057600080fd5b50611480806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610bc4565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610c7c565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610d5b565b610168565b6040516100a993929190610e32565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610e67565b905060200201602081019061019b9190610e96565b6040517f8d872c0c0000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff9190911690638d872c0c906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610eb3565b505b610303739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610ed5565b60008b8b60008181106102d1576102d1610e67565b90506020020160208101906102e69190610e96565b73ffffffffffffffffffffffffffffffffffffffff169190610922565b6103bd739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610365573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103899190610ed5565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102d1576102d1610e67565b8767ffffffffffffffff8111156103d6576103d6610ef2565b6040519080825280602002602001820160405280156103ff578160200160208202803683370190505b5091508767ffffffffffffffff81111561041b5761041b610ef2565b604051908082528060200260200182016040528015610444578160200160208202803683370190505b50905060005b88811015610601576105128a8a8381811061046757610467610e67565b905060200201602081019061047c9190610e96565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024015b602060405180830381865afa1580156104e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050d9190610f21565b6109fd565b61051b90610f69565b83828151811061052d5761052d610e67565b6020026020010181815250506105cb8a8a8381811061054e5761054e610e67565b90506020020160208101906105639190610e96565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024016104cc565b6105d490610f69565b8282815181106105e6576105e6610e67565b60209081029190910101526105fa81610fa1565b905061044a565b50604080516001808252818301909252600091816020015b6106956040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b81526020019060019003908161061957505060408051610160810190915260008152909150602081016106c960018c610fd9565b81526000602082015260400189896106e260018e610fd9565b8181106106f1576106f1610e67565b9050602002013581526020018989600081811061071057610710610e67565b90506020020135815260200163ffffffff801681526020016000801b815260200160008152602001604081526020016000815260200130604051602001610782919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b604051602081830303815290604052815250816000815181106107a7576107a7610e67565b602002602001018190525061087b739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d6040516024016108009695949392919061134b565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab419150610a8d565b935060005b898110156109145761089d8b8b8381811061046757610467610e67565b8482815181106108af576108af610e67565b602002602001018181516108c3919061141c565b9052506108db8b8b8381811061054e5761054e610e67565b8382815181106108ed576108ed610e67565b60200260200101818151610901919061141c565b90525061090d81610fa1565b9050610880565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b300000000000000000000000000000000000000000000000000000000179052906000906109b590861683610aa2565b90506109f6816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610ab0565b5050505050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821115610a89576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f4d6174683a20696e74323536206f766572666c6f770000000000000000000000604482015260640161015f565b5090565b6000610a9b83600084610b0b565b9392505050565b6060610a9b83600084610b3e565b81511580610acd575081806020019051810190610acd9190610eb3565b8190610b06576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f9190611444565b505050565b60005a905060008083516020850186885af1610b2b573d6000803e3d6000fd5b5a610b369082610fd9565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610b689190611457565b60006040518083038185875af1925050503d8060008114610ba5576040519150601f19603f3d011682016040523d82523d6000602084013e610baa565b606091505b509250905080610bbc57815160208301fd5b509392505050565b600080600060408486031215610bd957600080fd5b83359250602084013567ffffffffffffffff80821115610bf857600080fd5b818601915086601f830112610c0c57600080fd5b813581811115610c1b57600080fd5b876020828501011115610c2d57600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610c6257600080fd5b50565b8060608101831015610c7657600080fd5b92915050565b600080600080600060a08688031215610c9457600080fd5b8535610c9f81610c40565b94506020860135610caf81610c40565b935060408601359250606086013567ffffffffffffffff80821115610cd357600080fd5b610cdf89838a01610c65565b93506080880135915080821115610cf557600080fd5b50610d0288828901610c65565b9150509295509295909350565b60008083601f840112610d2157600080fd5b50813567ffffffffffffffff811115610d3957600080fd5b6020830191508360208260051b8501011115610d5457600080fd5b9250929050565b60008060008060008060808789031215610d7457600080fd5b863567ffffffffffffffff80821115610d8c57600080fd5b610d988a838b01610d0f565b90985096506020890135915080821115610db157600080fd5b610dbd8a838b01610d0f565b90965094506040890135915080821115610dd657600080fd5b50610de389828a01610c65565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610e2757815187529582019590820190600101610e0b565b509495945050505050565b838152606060208201526000610e4b6060830185610df7565b8281036040840152610e5d8185610df7565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610ea857600080fd5b8135610a9b81610c40565b600060208284031215610ec557600080fd5b81518015158114610a9b57600080fd5b600060208284031215610ee757600080fd5b8151610a9b81610c40565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610f3357600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610f9a57610f9a610f3a565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610fd257610fd2610f3a565b5060010190565b81810381811115610c7657610c76610f3a565b60005b83811015611007578181015183820152602001610fef565b50506000910152565b60008151808452611028816020860160208601610fec565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b8581101561113a57828403895281516101608151865286820151878701526040808301516110bd8289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e08083015190870152610100808301519087015261012080830151908701526101409182015191860181905261112681870183611010565b9a87019a9550505090840190600101611078565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561113a57828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa18836030181126111e957600080fd5b8701606081356111f881610c40565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe101811261124f57600080fd5b90920187810192903567ffffffffffffffff81111561126d57600080fd5b80360384131561127c57600080fd5b828289015261128e8389018286611147565b9c89019c975050509286019250506001016111aa565b600082606081018360005b600381101561134057838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18736030181126112ef57600080fd5b8601602081810191359067ffffffffffffffff82111561130e57600080fd5b8160051b360383131561132057600080fd5b61132b868385611190565b998101999550939093019250506001016112af565b509095945050505050565b6080808252810186905260008760a08301825b8981101561139b57823561137181610c40565b73ffffffffffffffffffffffffffffffffffffffff1682526020928301929091019060010161135e565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8711156113d457600080fd5b8660051b91508188602083013701828103602090810160408501526113fb9082018661105a565b9050828103606084015261140f81856112a4565b9998505050505050505050565b808201828112600083128015821682158216171561143c5761143c610f3a565b505092915050565b602081526000610a9b6020830184611010565b60008251611469818460208701610fec565b919091019291505056fea164736f6c6343000811000a","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100415760003560e01c80631626ba7e146100465780631997f448146100b2578063299de750146100da575b600080fd5b61007c610054366004610bc4565b7f1626ba7e000000000000000000000000000000000000000000000000000000009392505050565b6040517fffffffff0000000000000000000000000000000000000000000000000000000090911681526020015b60405180910390f35b6100c56100c0366004610c7c565b6100fc565b604080519283526020830191909152016100a9565b6100ed6100e8366004610d5b565b610168565b6040516100a993929190610e32565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f6e6f7420696d706c656d656e7465640000000000000000000000000000000000604482015260009081906064015b60405180910390fd5b60006060808315610236578888600081811061018657610186610e67565b905060200201602081019061019b9190610e96565b6040517f8d872c0c0000000000000000000000000000000000000000000000000000000081523060048201526024810186905273ffffffffffffffffffffffffffffffffffffffff9190911690638d872c0c906044016020604051808303816000875af1158015610210573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102349190610eb3565b505b610303739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610298573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102bc9190610ed5565b60008b8b60008181106102d1576102d1610e67565b90506020020160208101906102e69190610e96565b73ffffffffffffffffffffffffffffffffffffffff169190610922565b6103bd739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff16639b552cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610365573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103899190610ed5565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8b8b60008181106102d1576102d1610e67565b8767ffffffffffffffff8111156103d6576103d6610ef2565b6040519080825280602002602001820160405280156103ff578160200160208202803683370190505b5091508767ffffffffffffffff81111561041b5761041b610ef2565b604051908082528060200260200182016040528015610444578160200160208202803683370190505b50905060005b88811015610601576105128a8a8381811061046757610467610e67565b905060200201602081019061047c9190610e96565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024015b602060405180830381865afa1580156104e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050d9190610f21565b6109fd565b61051b90610f69565b83828151811061052d5761052d610e67565b6020026020010181815250506105cb8a8a8381811061054e5761054e610e67565b90506020020160208101906105639190610e96565b6040517f70a08231000000000000000000000000000000000000000000000000000000008152739008d19f58aabd9ed0d60971565aa8510560ab41600482015273ffffffffffffffffffffffffffffffffffffffff91909116906370a08231906024016104cc565b6105d490610f69565b8282815181106105e6576105e6610e67565b60209081029190910101526105fa81610fa1565b905061044a565b50604080516001808252818301909252600091816020015b6106956040518061016001604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600063ffffffff16815260200160008019168152602001600081526020016000815260200160008152602001606081525090565b81526020019060019003908161061957505060408051610160810190915260008152909150602081016106c960018c610fd9565b81526000602082015260400189896106e260018e610fd9565b8181106106f1576106f1610e67565b9050602002013581526020018989600081811061071057610710610e67565b90506020020135815260200163ffffffff801681526020016000801b815260200160008152602001604081526020016000815260200130604051602001610782919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b604051602081830303815290604052815250816000815181106107a7576107a7610e67565b602002602001018190525061087b739008d19f58aabd9ed0d60971565aa8510560ab4173ffffffffffffffffffffffffffffffffffffffff166313d79a0b8c8c8c8c878d6040516024016108009695949392919061134b565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660e09390931b92909217909152739008d19f58aabd9ed0d60971565aa8510560ab419150610a8d565b935060005b898110156109145761089d8b8b8381811061046757610467610e67565b8482815181106108af576108af610e67565b602002602001018181516108c3919061141c565b9052506108db8b8b8381811061054e5761054e610e67565b8382815181106108ed576108ed610e67565b60200260200101818151610901919061141c565b90525061090d81610fa1565b9050610880565b505096509650969350505050565b6040805173ffffffffffffffffffffffffffffffffffffffff848116602483015260448083018590528351808403909101815260649092019092526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f095ea7b300000000000000000000000000000000000000000000000000000000179052906000906109b590861683610aa2565b90506109f6816040518060400160405280601a81526020017f5361666545524332303a20617070726f76616c206661696c6564000000000000815250610ab0565b5050505050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821115610a89576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f4d6174683a20696e74323536206f766572666c6f770000000000000000000000604482015260640161015f565b5090565b6000610a9b83600084610b0b565b9392505050565b6060610a9b83600084610b3e565b81511580610acd575081806020019051810190610acd9190610eb3565b8190610b06576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161015f9190611444565b505050565b60005a905060008083516020850186885af1610b2b573d6000803e3d6000fd5b5a610b369082610fd9565b949350505050565b606060008473ffffffffffffffffffffffffffffffffffffffff168484604051610b689190611457565b60006040518083038185875af1925050503d8060008114610ba5576040519150601f19603f3d011682016040523d82523d6000602084013e610baa565b606091505b509250905080610bbc57815160208301fd5b509392505050565b600080600060408486031215610bd957600080fd5b83359250602084013567ffffffffffffffff80821115610bf857600080fd5b818601915086601f830112610c0c57600080fd5b813581811115610c1b57600080fd5b876020828501011115610c2d57600080fd5b6020830194508093505050509250925092565b73ffffffffffffffffffffffffffffffffffffffff81168114610c6257600080fd5b50565b8060608101831015610c7657600080fd5b92915050565b600080600080600060a08688031215610c9457600080fd5b8535610c9f81610c40565b94506020860135610caf81610c40565b935060408601359250606086013567ffffffffffffffff80821115610cd357600080fd5b610cdf89838a01610c65565b93506080880135915080821115610cf557600080fd5b50610d0288828901610c65565b9150509295509295909350565b60008083601f840112610d2157600080fd5b50813567ffffffffffffffff811115610d3957600080fd5b6020830191508360208260051b8501011115610d5457600080fd5b9250929050565b60008060008060008060808789031215610d7457600080fd5b863567ffffffffffffffff80821115610d8c57600080fd5b610d988a838b01610d0f565b90985096506020890135915080821115610db157600080fd5b610dbd8a838b01610d0f565b90965094506040890135915080821115610dd657600080fd5b50610de389828a01610c65565b925050606087013590509295509295509295565b600081518084526020808501945080840160005b83811015610e2757815187529582019590820190600101610e0b565b509495945050505050565b838152606060208201526000610e4b6060830185610df7565b8281036040840152610e5d8185610df7565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215610ea857600080fd5b8135610a9b81610c40565b600060208284031215610ec557600080fd5b81518015158114610a9b57600080fd5b600060208284031215610ee757600080fd5b8151610a9b81610c40565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060208284031215610f3357600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60007f80000000000000000000000000000000000000000000000000000000000000008203610f9a57610f9a610f3a565b5060000390565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610fd257610fd2610f3a565b5060010190565b81810381811115610c7657610c76610f3a565b60005b83811015611007578181015183820152602001610fef565b50506000910152565b60008151808452611028816020860160208601610fec565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600081518084526020808501808196508360051b8101915082860160005b8581101561113a57828403895281516101608151865286820151878701526040808301516110bd8289018273ffffffffffffffffffffffffffffffffffffffff169052565b5050606082810151908701526080808301519087015260a08083015163ffffffff169087015260c0808301519087015260e08083015190870152610100808301519087015261012080830151908701526101409182015191860181905261112681870183611010565b9a87019a9550505090840190600101611078565b5091979650505050505050565b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b81835260006020808501808196508560051b810191508460005b8781101561113a57828403895281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa18836030181126111e957600080fd5b8701606081356111f881610c40565b73ffffffffffffffffffffffffffffffffffffffff1686528187013587870152604080830135368490037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe101811261124f57600080fd5b90920187810192903567ffffffffffffffff81111561126d57600080fd5b80360384131561127c57600080fd5b828289015261128e8389018286611147565b9c89019c975050509286019250506001016111aa565b600082606081018360005b600381101561134057838303875281357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18736030181126112ef57600080fd5b8601602081810191359067ffffffffffffffff82111561130e57600080fd5b8160051b360383131561132057600080fd5b61132b868385611190565b998101999550939093019250506001016112af565b509095945050505050565b6080808252810186905260008760a08301825b8981101561139b57823561137181610c40565b73ffffffffffffffffffffffffffffffffffffffff1682526020928301929091019060010161135e565b5083810360208501528681527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8711156113d457600080fd5b8660051b91508188602083013701828103602090810160408501526113fb9082018661105a565b9050828103606084015261140f81856112a4565b9998505050505050505050565b808201828112600083128015821682158216171561143c5761143c610f3a565b505092915050565b602081526000610a9b6020830184611010565b60008251611469818460208701610fec565b919091019291505056fea164736f6c6343000811000a","devdoc":{"methods":{}},"userdoc":{"methods":{}}}
